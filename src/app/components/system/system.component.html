<div *ngIf="isLoaded"
  class="loading d-flex justify-content-center align-items-center vh-100 w-100 position-absolute top-0 right-0 alert alert-dark border border-0"
  style="z-index: 9999999999999999999999999999999999999999999999999999999999;">
  <i class="fa-solid fa-shield-halved text-info fa-beat fa-7x"
    style="--fa-animation-duration: 1s;--fa-beat-scale: 1.3;"></i>
</div>

<div class="alert alert-dark border-0 mb-5 pb-5 rounded-0">
  <div *ngIf="!isLoaded">

    <div class="row">
      <div class="col-12 col-sm-4">
        <div class="m-auto  mq comp-shadow position-relative rounded-3 mb-4 p-4 alert alert-info bg bg-opacity-10">
          <div class="row  py-md-3 pe-3">
            <i class="fa-solid fa-shield-halved text-info fa-6x col-12 col-md-6   "></i>
            <h3 class="d-inline-block mb-0 col-12 col-md-6">Burgular <br> Alarm <br> System</h3>

          </div>
        </div>
      </div>

      <div class="col-12 col-sm-8">
        <div class="m-auto  mq comp-shadow position-relative rounded-3 mb-4 p-4 alert alert-info bg bg-opacity-10">
          <div class="row gy-3">
            <div class="col-12 text-start">
              <div>
                <label class="fs-5 mt-3 mt-sm-1">
                  Clear-alarm command
                </label>
                <input type="text" placeholder=" type 'stop' to clear all ALARMS"
                  class="form-control bg-info bg-opacity-10 border border-info" [(ngModel)]="command"
                  (keyup)="checkCommand()">
              </div>
            </div>
            <div class="col-md-6">
              <div>
                <button class="btn btn-outline-info w-100" (click)="toggle = !toggle">Turn {{toggleOnOff()}}
                  toggle</button>
              </div>
            </div>
            <div class="col-md-6">
              <div>
                <button class="btn btn-outline-info w-100" (click)="logOut()">logout <i
                    class="fa-solid fa-right-from-bracket ms-2"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>





















    <div class="row">
      <div class="col-6 col-sm-12 col-md-12  mb-3 element-comp">
        <div class="m-auto  mq comp-shadow position-relative rounded-3 bg-light">
          <div class="row m-auto ">
            <div
              class="d-block d-sm-none col-12 rounded-top py-3 text-center door-label-mq door-card {{doorAlarm('card')}}">
              <i class="fa-solid fa-door-closed fa-4x text-light "></i>
              <div class="fs-3 text-light"> Doors</div>
            </div>

            <div class="col-2  align-items-stretch d-none d-sm-flex">
              <div class="row rounded-top px-3 door-card {{doorAlarm('card')}}">
                <div class="col-12 col-12 text-center py-3 m-auto ">
                  <i class="fa-solid fa-door-closed fa-4x text-light "></i>
                  <div class="fs-3 text-light"> Doors</div>
                </div>
              </div>
            </div>


            <div class="col-10 py-3">
              <div class="row mb-2 ms-3 ms-sm-5">
                <div class="col-12 col-sm-6 col-md-4 text-center" *ngFor="let door of doorsList">
                  <!-- <div class="col-6  col-md-4 text-center" *ngFor="let door of doorsList"> -->
                  <div class="alert alert-success position-relative border-3 door-alarm " role="alert"
                    style="width: 130px;height: 155px;" [id]="door.id" [class.alert-danger]="door.status == 'open'"
                    [class.alert-success]="door.status == 'close'">


                    <span style="width: 10px; height: 10px;background-color: #badbcc;"
                      class="rounded-circle position-absolute top-50 end-0 me-2"
                      [style.backgroundColor]="door.status == 'open'? '#f5c2c7' : '#badbcc' "></span>

                    {{door.id}} <br>
                    {{door.status}}
                  </div>
                </div>




              </div>
            </div>
            <div
              class="col-12 text-center alert  mb-0 rounded-0 rounded-bottom {{callPolice('door','success',doorsList)}}">
              <i class="fa-solid fa-person-military-rifle fa-6x door-police"></i>
            </div>
          </div>
        </div>
      </div>





      <div class="col-6 col-sm-12 col-md-12 element-comp">
        <div class="m-auto mq comp-shadow position-relative rounded-3 bg-light">
          <div class="row m-auto mt-0 mt-sm-5 rounded-3">
            <div class="d-block d-sm-none col-12 py-3 text-center window-card rounded-top {{windowAlarm('card')}}">
              <i class="fa-solid fa-table-columns fa-4x text-light "></i>
              <div class="fs-3 text-light"> Windows</div>
            </div>

            <div class="col-2  align-items-stretch d-none d-sm-flex">
              <div class="row rounded-top window-card {{windowAlarm('card')}}">
                <div class="col-12 text-center py-3 m-auto">
                  <i class="fa-solid fa-table-columns fa-4x text-light "></i>
                  <div class="fs-3 text-light"> windows</div>
                </div>
              </div>
            </div>

            <div class="col-10 py-3">
              <div class="row mb-2 ms-3 ms-sm-5">
                <div class="col-12 col-sm-6 col-md-4 text-center" *ngFor="let window of windowsList">
                  <div class="alert alert-warning position-relative border-3 door-alarm " role="alert"
                    style="width:140px;height: 110px;" [id]="window.id" [class.alert-danger]="window.status == 'open'"
                    [class.alert-warning]="window.status == 'close'">

                    <span style="width: 10px; height: 10px;background-color: #ffecb5;"
                      class="rounded-circle position-absolute top-50 end-0 me-2"
                      [style.backgroundColor]="window.status == 'open'? '#f5c2c7' : '#ffecb5' "></span>

                    {{window.id}} <br>
                    {{window.status}}
                  </div>
                </div>
              </div>
            </div>

            <div
              class="col-12 text-center alert mb-0 rounded-0 rounded-bottom  {{callPolice('window','warning',windowsList)}}">
              <i class="fa-solid fa-person-military-rifle fa-6x  window-police "></i>
            </div>
          </div>
        </div>
      </div>
    </div>












    <div class="row mt-4">
      <div class="col-6 mt-3 element-2-comp">
        <div class="card comp-shadow border border-0">
          <div class="card-header battery-card bg-primary">
            <span class="text-light">
              Battery
            </span>
          </div>
          <div class="card-body">
            <div class="row gy-3">
              <div class="col-12">
                <div class="blockquote mb-0 battery-prog border border-3 border-dark rounded-3 p-1 m-auto"
                  style="width: 150px;">
                  {{batteryProgress()}}
                </div>

              </div>
              <div class="col-6 col-md-4">
                <button class="btn btn-outline-info px-1" (click)="batterySim(500)" [disabled]="!disable"> start
                  simulate</button>
              </div>
              <div class="col-6 col-md-4">
                <button class="btn btn-outline-info px-3" (click)="speedInterval()" [disabled]="disable">speed
                  up</button>
              </div>
              <div class="col-6 col-md-4">
                <button class="btn btn-outline-info px-2" (click)="stopInterval()" [disabled]="disable">stop
                  simulate</button>
              </div>
            </div>
          </div>


          <div class="card-footer text-muted">
            <div class="row gy-3">
              <div class="col-3 text-center">
                <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus"
                  data-bs-content="broken">
                  <i
                    class="fa-solid fa-plug-circle-bolt fa-plug-circle-bolt-card-icon  {{batterybroken('card')}} fs-4"></i>
                </span>
              </div>

              <div class="col-3 text-center">
                <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus"
                  data-bs-content="testing">
                  <i class="fa-solid fa-gears fa-gears-card-icon fs-4 {{powerSupplyTest('card')}}"></i>
                </span>
              </div>

              <div class="col-3 text-center">
                <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus"
                  data-bs-content="call technichan">
                  <i
                    class="fa-solid fa-screwdriver-wrench fa-screwdriver-wrench-card-icon  {{callTeknkn('card')}} fs-4"></i>
                </span>
              </div>

              <div class="col-3 text-center">
                <span class="d-inline-block" tabindex="0" data-bs-toggle="popover" data-bs-trigger="hover focus"
                  data-bs-content="call technichan">
                  <i class="fa-solid fa-person-military-rifle police-battery fs-4 {{callPoliceBattery()}}"></i>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>


      <div class="col-6 mt-3 element-2-comp">
        <div class="card comp-shadow border border-0">
          <div class="card-header motion-card {{motionAlarm('card')}}">
            <span class="text-light">
              Motion
            </span>
          </div>
          <div class="card-body">
            <div class="blockquote ">
              <div class="text-center ">
                <i class="fa-solid fa-person-walking fa-person-walking-card-icon fa-4x "></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>




<div class="shadow-lg w-100  fixed-bottom text-light" style="background-color: #043158">
  <div class=" text-center p-0" (click)="showSensorInputs();">
    <i class="fa-solid fa-chevron-up "></i>
  </div>

  <hr class="w-100 my-0">

  <div class="d-flex justify-content-around my-2 px-2">
    <i class="fa-solid  fa-gears fa-gears-nav-icon  {{powerSupplyTest('nav')}}"></i>
    <i class="fa-solid fa-plug-circle-bolt   {{batterybroken('nav')}}"></i>
    <i class="fa-solid fa-screwdriver-wrench  {{callTeknkn('nav')}}"></i>
    <i class="fa-solid fa-person-military-rifle {{callPoliceNav()}} "></i>
    <i class="fa-solid fa-door-open  {{doorAlarm('nav')}} "></i>
    <i class="fa-solid fa-table-columns fa-table-columns-nav-icon {{windowAlarm('nav')}} "></i>
    <i class="fa-solid fa-person-walking   {{motionAlarm('nav')}} "></i>
    <i class="fa-solid fa-battery-three-quarters battery-nav-icon  {{batteryDangerNav()}} "></i>
  </div>

  <div style="height: 200px;overflow-x: hidden;overflow-y: scroll;display: none;" class="sensor-inputs mb-0">
    <app-sensor-inputs></app-sensor-inputs>
  </div>

</div>
